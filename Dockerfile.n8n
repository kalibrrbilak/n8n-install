FROM n8nio/n8n:latest

USER root

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# ğŸš€ n8n SUPER BUILD - AI/ML + ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# ğŸ‘¨â€ğŸ’» ĞĞ²Ñ‚Ğ¾Ñ€: WebSansay
# ğŸ“± Telegram: https://t.me/websansay
# ğŸ“¢ ĞšĞ°Ğ½Ğ°Ğ» Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸ÑĞ¼Ğ¸: https://t.me/+p3VDHRpArOc5YzM6
# ğŸ’° ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚: https://boosty.to/websansay
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

RUN echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
    echo "ğŸš€ n8n SUPER BUILD - ĞĞ°Ñ‡Ğ¸Ğ½Ğ°ĞµĞ¼ ÑĞ±Ğ¾Ñ€ĞºÑƒ!" && \
    echo "ğŸ‘¨â€ğŸ’» by WebSansay | TG: https://t.me/websansay" && \
    echo "ğŸ“¢ ĞšĞ°Ğ½Ğ°Ğ»: https://t.me/+p3VDHRpArOc5YzM6" && \
    echo "ğŸ’° Ğ”Ğ¾Ğ½Ğ°Ñ‚Ñ‹: https://boosty.to/websansay" && \
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

# Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğµ Ğ¿Ğ°ĞºĞµÑ‚Ñ‹ (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸ Ğ±Ğ°Ğ·Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ°)
RUN apk add --no-cache \
  bash \
  curl \
  git \
  make \
  g++ \
  gcc \
  python3 \
  py3-pip \
  libffi-dev \
  yt-dlp \
  apache2-utils \
  ffmpeg \
  docker-cli \
  chromium \
  chromium-chromedriver \
  font-noto \
  font-noto-cjk \
  font-noto-emoji \
  imagemagick \
  ghostscript \
  graphicsmagick \
  poppler-utils \
  tesseract-ocr \
  tesseract-ocr-data-rus \
  tesseract-ocr-data-eng \
  jq

# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñƒ docker Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ node
ARG DOCKER_GID=999
RUN set -eux; \
  addgroup -S -g ${DOCKER_GID} docker || addgroup -S docker; \
  adduser node docker || true

# Ğ§ÑƒÑ‚ÑŒ ÑƒÑĞºĞ¾Ñ€Ğ¸Ğ¼ npm
RUN npm config set fund false && npm config set audit false

# npm-Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ĞºĞ¸
RUN echo "" && \
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
    echo "ğŸ“¦ Ğ£ÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°Ñ 30+ npm Ğ¿Ğ°ĞºĞµÑ‚Ğ¾Ğ² Ğ´Ğ»Ñ AI, Ğ±Ğ¾Ñ‚Ğ¾Ğ² Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸..." && \
    echo "â±ï¸  Ğ­Ñ‚Ğ¾ Ğ·Ğ°Ğ¹Ğ¼Ñ‘Ñ‚ 5-10 Ğ¼Ğ¸Ğ½ÑƒÑ‚ - Ğ¸Ğ´ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ğ¿Ğ¾ÑĞµÑ‚Ğ¸Ñ‚ÑŒ Ğ½Ğ°Ñˆ ĞºĞ°Ğ½Ğ°Ğ»! ğŸ˜‰" && \
    echo "ğŸ“¢ https://t.me/+p3VDHRpArOc5YzM6 - Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ğµ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸ Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸!" && \
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
    echo ""

RUN for pkg in \
    axios \
    node-fetch \
    form-data \
    moment \
    date-fns \
    lodash \
    fs-extra \
    path \
    csv-parser \
    xml2js \
    js-yaml \
    xlsx \
    jsonwebtoken \
    simple-oauth2 \
    uuid \
    openai \
    @tensorflow/tfjs-node \
    langchain \
    node-telegram-bot-api \
    discord.js \
    vk-io \
    whatsapp-web.js \
    fluent-ffmpeg \
    ffmpeg-static \
    google-tts-api \
    @vitalets/google-translate-token \
    node-wav \
    mongoose \
    ioredis \
    bcrypt \
    validator \
    joi \
    winston \
    dotenv \
    prom-client \
    node-downloader-helper \
    adm-zip \
    archiver \
  ; do \
    echo "ğŸ”§ Ğ£ÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµĞ¼ $pkg..." && npm install -g "$pkg" || echo "âš ï¸ ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ $pkg, Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°ĞµĞ¼..."; \
  done

# Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾ â€” Ğ´Ğ»Ñ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ² Code-Ğ½Ğ¾Ğ´Ğ°Ñ…
RUN npm install oauth-1.0a

# Puppeteer ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
ENV PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=false
ENV PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium-browser
ENV CHROME_PATH=/usr/bin/chromium-browser

# n8n ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
ENV N8N_USER_FOLDER=/home/node/.n8n

USER node

WORKDIR /home/node

# ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§ĞĞ: ĞĞ• Ğ¿ĞµÑ€ĞµĞ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµĞ¼ CMD/ENTRYPOINT - Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ Ğ¸Ğ· Ğ±Ğ°Ğ·Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ° n8nio/n8n
# Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ Ğ¾Ğ±Ñ€Ğ°Ğ· Ğ¸Ğ¼ĞµĞµÑ‚ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ entrypoint Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° n8n

RUN echo "" && \
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
    echo "âœ… n8n SUPER BUILD Ğ·Ğ°Ğ²ĞµÑ€ÑˆÑ‘Ğ½ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾!" && \
    echo "" && \
    echo "ğŸ‰ Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ñ‹ Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ:" && \
    echo "   â€¢ OpenAI, TensorFlow, LangChain (AI/ML)" && \
    echo "   â€¢ Telegram, Discord, VK, WhatsApp Ğ±Ğ¾Ñ‚Ñ‹" && \
    echo "   â€¢ FFmpeg, ImageMagick, Tesseract OCR" && \
    echo "   â€¢ Chromium + Puppeteer Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ°" && \
    echo "   â€¢ Ğ˜ ĞµÑ‰Ñ‘ 20+ Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞº!" && \
    echo "" && \
    echo "ğŸ‘¨â€ğŸ’» ĞĞ²Ñ‚Ğ¾Ñ€: WebSansay" && \
    echo "ğŸ“± Ğ’Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ¸ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ: https://t.me/websansay" && \
    echo "ğŸ“¢ ĞšĞ°Ğ½Ğ°Ğ» Ñ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ñ‹Ğ¼Ğ¸ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ÑĞ¼Ğ¸: https://t.me/+p3VDHRpArOc5YzM6" && \
    echo "ğŸ’° ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚: https://boosty.to/websansay" && \
    echo "" && \
    echo "ĞŸĞ¾Ğ½Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°ÑÑŒ ÑĞ±Ğ¾Ñ€ĞºĞ°? ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸ Ğ´Ğ¾Ğ½Ğ°Ñ‚Ğ¾Ğ¼! ğŸ™" && \
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" && \
    echo ""
